<!DOCTYPE html>
<html lang="kr">
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
				<script type="text/javascript">
			/* 주민등록번호를 입력 받아 생년월일과 성별을 출력한다 */
			//var birth = prompt("생년월일>");
			
			
				
			
			function proc() {
				
				var value = document.getElementById("jumin").value;
				
//				var value = "210317-123123";
				var gender="";
				var year="";
				var month="";
				var day="";
				
				switch(value.substr(7,1)){
				case "1":
					gender="남성";
					year ="19";
					break;
				case "3":
					gender="남성";
					year ="20";
					break;
				case "2":
					gender="여성";
					year ="19";
					break;
				case "4":
					gender="여성";
					year ="20";
					break;
				}
				
				year += value.substr(0,2);
				month = value.substring(2,4);
				day = value.substr(4,2);
				
				
				document.getElementById("spGender").innerHTML = gender;
				document.getElementById("spYear").innerHTML = year;
				document.getElementById("spMonth").innerHTML = month;
				document.getElementById("spDay").innerHTML = day;

				
			}
			function proc2(){
				
				
				var value2 = document.getElementById("jumin2").value;
				var arr = [];
				var sum = 0;
				var temp;
				var ans;
				
				for(var i=0; i<8; i++){
					if(i==6){
						continue;
					}
					sum += (value2.substr(i,1))*(i+2);
// 					alert(i+"] sum : "+sum);
					if(i<4){
						sum += (value2.substr(i+9),1)*(i+2);
// 						alert(sum);
					} 
				}
			
			 	temp = 11-(sum%11);
				if (0 < temp && temp <= 9){
					ans=ans;
				} else if(temp == 10){
					ans=0;
				}  else if(temp == 11){
					ans=1;
				} else ans=null;
				
				if(ans==value2.substr(13,1)){
					document.getElementById("spReg").innerHTML = "맞아";
				} else 
					document.getElementById("spReg").innerHTML = "틀려";
			} 

		</script>
	</head>
	<body>
		주민등록번호 : <input type="text" id="jumin">
		<button type="button" onclick="proc()">계산ㄴㄴㄴㄴㄴㄴㄴㄴㄴ</button><br>
		연도 : <span id="spYear"></span><br> 
		월 : <span id="spMonth"></span><br>
		일 : <span id="spDay"></span><br>
		성별 : <span id="spGender"></span>
		<hr>
		
		<!-- 주민등록번호 유효성 검사 -->
		주민등록번호 : <input type="text" id="jumin2">
		<button type="button" onclick="proc2()">계산</button><br>
		결과 : <span id="spReg"></span>
	</body>
	<!--
			A B C D E F  -  G   H  I  J  H  L  M
			0 1 2 3 4 5  6  7   8  9  10 11 12 13
			
			1. A*2 + b*3 + ... + H*9 + I*2 + ... + L*5 : 총합
			2. 1번의 값에서 11로 나눈 나머지를 구하고
			3. 11에서 2번의 결과를 뺀다.
			4. 3번의 결과가 0~9사이면 그대로, 10이면 0 11이면 1로 변환
			5. 4번의 결ㅘ와 M자리의 값이 같음녀 맞는 번호(끝자리)
			-->

</html>